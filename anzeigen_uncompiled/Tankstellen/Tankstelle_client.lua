TankeSFDowntown = createMarker ( -1681.7896728516, 407.72265625, 5.6796879768372, "cylinder", 3, getColorFromString ( "#006991" ) )
TankeSFJuniperHill = createMarker ( -2415.208984375, 976.42901611328, 43.807689666748, "cylinder", 3, getColorFromString ( "#006991" ) )
TankeBoat = createMarker ( -1108.8315429688, -136.8196105957, 0, "cylinder", 5, getColorFromString ( "#006991" ) )
AirportTanke = createMarker ( -1122.7724609375, -202.25073242188, 10.893966674805, "cylinder", 50, getColorFromString ( "#006991" ) )
Tanke = {
	[1] = createMarker(-2244.2653808594, -2561.2934570313, 30.921875, "cylinder", 3, getColorFromString ( "#006991" )),
	[2] = createMarker(658.52795410156, -565.03424072266, 15.3359375, "cylinder", 3, getColorFromString ( "#006991" )),
	[3] = createMarker(1003.8759155273, -940.43975830078, 41.1796875, "cylinder", 3, getColorFromString ( "#006991" )),
	[4] = createMarker(-92.113708496094, -1171.3128662109 ,1.3799414634705, "cylinder", 3, getColorFromString ( "#006991" )),
	[5] = createMarker(1597.9239501953 ,2199.1923828125 ,9.8203125, "cylinder", 3, getColorFromString ( "#006991" )),
	[6] = createMarker(2113.7553710938 ,920.28552246094 ,9.8203125, "cylinder", 3, getColorFromString ( "#006991" )),
	[7] = createMarker(-736.88232421875 ,2741.0732421875 ,46.224239349365, "cylinder", 3, getColorFromString ( "#006991" )),
	[8] = createMarker(-1326.2266845703 ,2688.9340820313 ,49.0625, "cylinder", 3, getColorFromString ( "#006991" )),
	[9] = createMarker(1936.3382568359 ,-1772.1337890625 ,12.3828125, "cylinder", 3, getColorFromString ( "#006991" )),
	[10] = createMarker(62.793960571289 ,1217.6678466797 ,17.835973739624, "cylinder", 3, getColorFromString ( "#006991" )),
	[11] = createMarker(-1612.5341796875 ,-2723.4165039063 ,47.5390625, "cylinder", 3, getColorFromString ( "#006991" )),
	[12] = createMarker(2638.4443359375 ,1106.2412109375 ,9.8203125, "cylinder", 3, getColorFromString ( "#006991" )),
	[13] = createMarker(2203.1423339844 ,2473.5385742188 ,9.8203125, "cylinder", 3, getColorFromString ( "#006991" )),
	[14] = createMarker(-2029.8000488281, 156.80000305176, 27.5, "cylinder", 3, getColorFromString ( "#006991" )),
}

tanke1 = createBlip ( -2244.2653808594, -2561.2934570313, 30.921875, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke2 = createBlip ( 658.52795410156, -565.03424072266, 15.3359375, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke3 = createBlip ( 1003.8759155273, -940.43975830078, 41.1796875, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke4 = createBlip ( -92.113708496094, -1171.3128662109 ,1.3799414634705, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke5 = createBlip ( 1597.9239501953 ,2199.1923828125 ,9.8203125, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke6 = createBlip ( -2029.8000488281, 156.80000305176, 27.5, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke7 = createBlip ( 2113.7553710938 ,920.28552246094 ,9.8203125, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke8 = createBlip ( -736.88232421875 ,2741.0732421875 ,46.224239349365, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke9 = createBlip ( -1326.2266845703 ,2688.9340820313 ,49.0625, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke10 = createBlip ( 1936.3382568359 ,-1772.1337890625 ,12.3828125, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke11 = createBlip ( 62.793960571289 ,1217.6678466797 ,17.835973739624, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke12 = createBlip ( -1612.5341796875 ,-2723.4165039063 ,47.5390625, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke13 = createBlip ( 2638.4443359375 ,1106.2412109375 ,9.8203125, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke14 = createBlip ( 2203.1423339844 ,2473.5385742188 ,9.8203125, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke15 = createBlip ( -1681.7896728516, 407.72265625, 5.6796879768372, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke16 = createBlip (  -2415.208984375, 976.42901611328, 43.807689666748, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke17 = createBlip ( -1108.8315429688, -136.8196105957, 0, 42, 1, 255, 0, 0, 255, 0, 250 )
tanke18 = createBlip ( -1122.7724609375, -202.25073242188, 10.893966674805, 42, 1, 255, 0, 0, 255, 0, 250 )




helicopters = { [548]=true, [425]=true, [417]=true, [487]=true, [488]=true, [497]=true, [563]=true, [447]=true, [469]=true }
planea = { [512]=true, [593]=true, [476]=true, [460]=true, [513]=true }
planeb = { [592]=true, [577]=true, [511]=true, [520]=true, [553]=true, [519]=true }



function closeTankstellen_Gui()
	vnxDestroyWindow("Tankstellen_Gui")
	vnxDestroyWindow("Tankstellen_Gas_Icon")
	vnxDestroyWindow("Tankstellen_Fuel_Icon")
	vnxDestroyWindow("Tankstellen_Text")
	vnxDestroyWindow("Tankstellen_Full_Fuel_Select")
	vnxDestroyWindow("Tankstellen_l_Fuel_Edit")
	vnxDestroyWindow("Tankstellen_Text_l_Fuel_Text")
	vnxDestroyWindow("Tankstellen_l_Fuel_Edit_Send")
	vnxDestroyWindow("Tankstellen_Snack_Button_Buy")
	vnxDestroyWindow("Tankstellen_Kannister_Button_Buy")
	vnxDestroyWindow("Tankstellen_Zigarreten_Button_Buy")
	window_already_open = false
	showCursor(false)
	toggleAllControls ( true )
end

function volltanken_Tankstellen_Gui()
	triggerServerEvent ( "fillComplete", getLocalPlayer(), getLocalPlayer() )
	infobox_start_func("Du hast dein Auto voll getankt.", 7500 )
end
function snackbuy_Tankstellen_Gui()
	triggerServerEvent ( "buySnack", getLocalPlayer(), getLocalPlayer() )
	infobox_start_func("Du hast einen Snack gekauft & gegessen.", 7500 )
end
function kannisterbuy_Tankstellen_Gui()
	triggerServerEvent ( "buyKannister", getLocalPlayer(), getLocalPlayer() )
	closeTankstellen_Gui()
end
function zigaretten_Tankstellen_Gui()
	triggerServerEvent ( "buyKippen", getLocalPlayer(), getLocalPlayer() )
	closeTankstellen_Gui()
end
window_already_open = false
function showTankstellen_Gui ( player, dim )
	if window_already_open == false then 
		if player == getLocalPlayer() and dim then
			if (getElementDimension ( player ) == 14) then return false end
			if isPedInVehicle ( player ) then
				local veh = getPedOccupiedVehicle ( getLocalPlayer() )
				local model = getElementModel ( veh )
			end
			local x, y, z = getElementPosition ( player )
			if veh or getLocalPlayer() or model == 460 and z <= 10 then
				if veh then
					if getVehicleType ( veh ) == "Plane" or getVehicleType ( veh ) == "Helicopter" then
						return false
					end
					setElementVelocity ( veh, 0, 0, 0 )
				end
				showCursor ( true )
				toggleAllControls ( false )
					local name = getPlayerName( player )
					local screenX, screenY = guiGetScreenSize()
					local sx, sy = screenX/1366, screenY/768
					window_already_open = true
					
					vnxDrawWindow("Tankstellen_Gui", "window", "Willkommen bei Venox Fuel Service ", sx*450, sy*180, sx*470, sy*450, "closeTankstellen_Gui")
					
					vnxDrawImage("Tankstellen_Gas_Icon","einfach das gas icon",sx*465, sy*218, sx*110, sy*110,":VenoX/anzeigen/Tankstellen/images/gas_icon")

					vnxDrawImage("Tankstellen_Fuel_Icon","einfach das gas icon",sx*440, sy*350, sx*140, sy*140,":VenoX/anzeigen/Tankstellen/images/fuelvektor_icon")
					
					vnxDrawText("Tankstellen_Text","","Venox Tank System\n Herzlich Wiillkommen bei Venox Fuel Service\n Was können wir ihnen anbieten ?", sx*290, sy*218, sx*910, sy*328, tocolor(255, 255, 255, 255), 1, "default", "center", "top")

					vnxDrawButton("Tankstellen_Full_Fuel_Select", "voll tanken", "Voll Tanken", sx*600, sy*295, sx*290, sy*32, "volltanken_Tankstellen_Gui")
					
					

					vnxDrawText("Tankstellen_Text_l_Fuel_Text","","Hier haben sie die Möglichkeit\n Literweise tanken zu Tanken\n 1 Liter = "..literPrice.." $", sx*290, sy*370, sx*910, sy*328, tocolor(255, 255, 255, 255), 1, "default", "center", "top")

					vnxDrawEdit("Tankstellen_l_Fuel_Edit","edit","Liter tanken", sx*600, sy*450, sx*120, true)

					vnxDrawButton("Tankstellen_l_Fuel_Edit_Send", "Liter Weise Tanken Button", "Liter Tanken", sx*755, sy*443, sx*145, sy*32, "l_tanken_Tankstellen_Gui")

					vnxDrawButton("Tankstellen_Snack_Button_Buy", "Snack Kaufen BTN", "Snack Kaufen\n\n( "..snackPrice.." $ )", sx*460, sy*525, sx*145, sy*65, "snackbuy_Tankstellen_Gui")

					vnxDrawButton("Tankstellen_Kannister_Button_Buy", "Kannister Kaufen BTN", "Kannister Kaufen\n\n( "..kannisterPrice.." $ )", sx*615, sy*525, sx*145, sy*65, "kannisterbuy_Tankstellen_Gui")

					vnxDrawButton("Tankstellen_Zigarreten_Button_Buy", "Zigarreten Kaufen BTN", "Zigarreten Kaufen\n\n( 500 $ )", sx*770, sy*525, sx*145, sy*65, "zigaretten_Tankstellen_Gui")

			end
		end
	end 
end
addEventHandler ( "onClientMarkerHit", TankeSFJuniperHill, showTankstellen_Gui )
addEventHandler ( "onClientMarkerHit", TankeSFDowntown, showTankstellen_Gui )
addEventHandler ( "onClientMarkerHit", TankeBoat, showTankstellen_Gui )
for i=1, #Tanke do
	addEventHandler ( "onClientMarkerHit", Tanke[i], showTankstellen_Gui )
end

function l_tanken_Tankstellen_Gui()
	local l_tanken_edit_gui = vnxGetEditText("Tankstellen_l_Fuel_Edit", "edit")

	if l_tanken_edit_gui == "Liter tanken" then 
		infobox_start_func("Fehler : Gib eine Liter Menge ein", 7500 )
		outputDebugString("1"..l_tanken_edit_gui)
	elseif l_tanken_edit_gui == "eins" or l_tanken_edit_gui == "zwei" or l_tanken_edit_gui == "fünf" then
		infobox_start_func("Fehler : Gib eine Liter Menge ein als Zahl", 7500 )
		outputDebugString("2"..l_tanken_edit_gui)
	elseif l_tanken_edit_gui == " " then
		infobox_start_func("Fehler : Gib eine Liter Menge ein", 7500 )
		outputDebugString("3"..l_tanken_edit_gui)
	elseif l_tanken_edit_gui == "" then
		infobox_start_func("Fehler : Gib eine Liter Menge ein", 7500 )
		outputDebugString("4"..l_tanken_edit_gui)
	else
		closeTankstellen_Gui()
		triggerServerEvent ( "fillPart", getLocalPlayer(), getLocalPlayer(), tonumber(l_tanken_edit_gui), true )
	end
end

function showAirportTanke ( player, dim )

	if player == getLocalPlayer() and dim then
		if (getElementDimension ( player ) == 14) then return false end
		local veh = getPedOccupiedVehicle ( getLocalPlayer() )
			setElementVelocity ( getPedOccupiedVehicle ( getLocalPlayer() ), 0, 0, 0 )
			showCursor ( true )
            local screenX, screenY = guiGetScreenSize()
        	local sx, sy = screenX/1366, screenY/768
                
			vnxDrawWindow("Tankstellen_Gui", "window", "Willkommen bei Venox Fuel Service ", sx*450, sy*180, sx*470, sy*450, "closeTankstellen_Gui")
				
			vnxDrawImage("Tankstellen_Gas_Icon","einfach das gas icon",sx*465, sy*218, sx*110, sy*110,":VenoX/anzeigen/Tankstellen/images/gas_icon")

			vnxDrawImage("Tankstellen_Fuel_Icon","einfach das gas icon",sx*440, sy*350, sx*140, sy*140,":VenoX/anzeigen/Tankstellen/images/fuelvektor_icon")
			
			vnxDrawText("Tankstellen_Text","","Venox Tank System\n Herzlich Wiillkommen bei Venox Fuel Service\n Was können wir ihnen anbieten ?", sx*290, sy*218, sx*910, sy*328, tocolor(255, 255, 255, 255), 1, "default", "center", "top")

			vnxDrawButton("Tankstellen_Full_Fuel_Select", "voll tanken", "Voll Tanken", sx*600, sy*295, sx*290, sy*32, "volltanken_Tankstellen_Gui")
			
			

			vnxDrawText("Tankstellen_Text_l_Fuel_Text","","Hier haben sie die Möglichkeit\n Literweise tanken zu Tanken\n 1 Liter = "..literPrice.." $", sx*290, sy*370, sx*910, sy*328, tocolor(255, 255, 255, 255), 1, "default", "center", "top")

			vnxDrawEdit("Tankstellen_l_Fuel_Edit","edit","Liter tanken", sx*600, sy*450, sx*120, true)

			vnxDrawButton("Tankstellen_l_Fuel_Edit_Send", "Liter Weise Tanken Button", "Liter Tanken", sx*755, sy*443, sx*145, sy*32, "l_tanken_Tankstellen_Gui")

			vnxDrawButton("Tankstellen_Snack_Button_Buy", "Snack Kaufen BTN", "Snack Kaufen\n\n( "..snackPrice.." $ )", sx*460, sy*525, sx*145, sy*65, "snackbuy_Tankstellen_Gui")

			vnxDrawButton("Tankstellen_Kannister_Button_Buy", "Kannister Kaufen BTN", "Kannister Kaufen\n\n( "..kannisterPrice.." $ )", sx*615, sy*525, sx*145, sy*65, "kannisterbuy_Tankstellen_Gui")

			vnxDrawButton("Tankstellen_Zigarreten_Button_Buy", "Zigarreten Kaufen BTN", "Zigarreten Kaufen\n\n( 500 $ )", sx*770, sy*525, sx*145, sy*65, "zigaretten_Tankstellen_Gui")

	end
end
addEventHandler ( "onClientMarkerHit", AirportTanke, showAirportTanke )