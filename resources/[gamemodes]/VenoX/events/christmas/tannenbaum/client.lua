-------------------------------------- Urheberrecht --------------- by [LA]Leyynen ------------------- 2012 ---------------------------------------------- Script by Noneatme -------- MUSIK ----[[local music_pos = {	[1] = {-1989.3734130859, 901.76751708984, 46.248344421387},	[2] = {-1980.556640625, 884.7958984375, 44.801002502441},	[3] = {-1989.0963134766, 866.9970703125, 46.248363494873},	[4] = {-1969.8522949219, 864.41595458984, 44.801002502441},	[5] = {-1970.21875, 885.09033203125, 44.801002502441},	[6] = {-1968.740234375, 904.05633544922, 44.801002502441},}]]local sound = playSound3D("sounds/jinglebells.mp3", -1981.6452636719, 884.17687988281, 49.203125, true)setSoundMaxDistance(sound, 100)setSoundVolume(sound, 0.8)addCommandHandler("wsound", function()	if(getSoundVolume(sound) == 0.8) then		setSoundVolume(sound, 0)	else		setSoundVolume(sound, 0.8)	endend)-- MARKER --local marker = {	createMarker(-1984.0911865234, 885.32043457031, 63.802856445313, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1983.0404052734, 888.22326660156, 60.052856445313, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1985.7965087891, 883.27111816406, 57.428108215332, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1987.0185546875, 885.57409667969, 56.052856445313, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1978.3927001953, 881.21984863281, 58.302856445313, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1984.3195800781, 880.26916503906, 56.752914428711, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1975.7224121094, 885.87194824219, 57.428108215332, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1978.4954833984, 883.22009277344, 62.178047180176, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1980.7904052734, 884.72326660156, 65.802856445313, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1979.4692382813, 883.97497558594, 52.552856445313, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1979.7224121094, 890.12194824219, 57.428108215332, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1983.5465087891, 889.77111816406, 55.453125, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255),	createMarker(-1978.4954833984, 887.39697265625, 60.002914428711, "corona", 1.0, math.random(0, 255), math.random(0, 255), math.random(0, 255), 255)}local m_state = {}for index, m in next, marker do	m_state[m] = falseendlocal rand_colors = {	[1] = {255, 0, 0},	[2] = {255, 255, 0},	[3] = {0, 255, 0},	[4] = {0, 255, 255},	[5] = {0, 0, 255},	[6] = {255, 0, 255}}addEventHandler("onClientRender", getRootElement(), function()	for index, m in next, marker do		local r, g, b, alpha = getMarkerColor(m)		if(m_state[m] == false) then			setMarkerColor(m, r, g, b, alpha-3)			r, g, b, alpha = getMarkerColor(m)			if(alpha < 2) then				m_state[m] = true				local random = math.random(1, #rand_colors)				local r, g, b = rand_colors[random][1], rand_colors[random][2], rand_colors[random][3]				setMarkerColor(m, r, g, b, alpha)			end		else			setMarkerColor(m, r, g, b, alpha+3)			r, g, b, alpha = getMarkerColor(m)			if(alpha > 253) then				m_state[m] = false			end		end	end		local x, y, z = getElementPosition(localPlayer)	if(getDistanceBetweenPoints3D(x, y, z, -1982.6888427734, 883.87091064453, 45.003125) < 10) and (isLineOfSightClear(x, y, z, -1982.6888427734, 883.87091064453, 45.003125, true, true, true, true, true)) then		local sx, sy = guiGetScreenSize()		x, y = getScreenFromWorldPosition(-1982.6888427734, 883.87091064453, 45.503125)		if(x) and (y) then			local dis = getDistanceBetweenPoints3D(x, y, z, -1982.6888427734, 883.87091064453, 45.003125)			x = x-20			dxDrawText("/weihnachtsevent", x, y, x, y, tocolor(0, 0, 0, 200), 1.5)			dxDrawText("/weihnachtsevent", x+1, y+1, x, y, tocolor(255, 255, 255, 200), 1.5)		end	end	x, y, z = getElementPosition(localPlayer)	if(getDistanceBetweenPoints3D(x, y, z, -1992.3427734375, 884.09094238281, 45.4453125) < 10) and (isLineOfSightClear(x, y, z, -1992.3427734375, 884.09094238281, 45.4453125, true, true, true, true, true)) then		local x2, y2 = getScreenFromWorldPosition(-1992.3427734375, 884.09094238281, 45.4453125)		if(x2) and (y2) then			local dis = getDistanceBetweenPoints3D(x, y, z, -1992.3427734375, 884.09094238281, 45.4453125)			x2 = x2-20			dxDrawText("/whelp", x2, y2, x2, y2, tocolor(0, 0, 0, 200), 1.5)			dxDrawText("/whelp", x2+1, y2+1, x2, y2, tocolor(0, 255, 255, 200), 1.5)		end	endend)-- STERNE --local stern1, stern2 = createObject(902, -1981.9321289063, 885.80700683594, 69.087837219238, 0, 90, 297), createObject(902, -1981.6318359375, 885.83227539063, 69.087837219238, 0, 90, 208)setElementDoubleSided(stern1, true)setElementDoubleSided(stern2, true)setTimer(function()	local x, y, z = getElementPosition(stern1)	moveObject(stern1, 1000, x, y, z, 0, 0, 360)		local x, y, z = getElementPosition(stern2)	moveObject(stern2, 1000, x, y, z, 0, 0, 360)end, 500, -1)-- TEXTUR --local shader = dxCreateShader("images/textureshader.fx")dxSetShaderValue(shader, "Tex", dxCreateTexture("images/pinelo128.png"))engineApplyShaderToWorldTexture(shader, "pinelo128")-- SAFTLADEN --local artikel = {	["Warmen Gluehwein"] = 5,	["Warmen Kaffee"] = 4,	["Fritten mit Ketchup"] = 3,	["Fritten mit Mayonnaise"] = 3,	["Rostbratwurst"] = 4,	["Kaltes Bier"] = 3,	["Eisgekuehlter Wiskey"] = 5,	["Schnaps"] = 4,	["Cola"] = 3,	["Fanta"] = 3,}local smark = createMarker(-1977.3880615234, 896.70471191406, 44.603125, "cylinder", 1.0, 0, 255, 0, 50)local Guivar = 0local function createSaftladenGui()	if(Guivar == 1) then return end	Guivar = 1	showCursor(true)	setElementData ( getLocalPlayer(), "ElementClicked", true )	guiSetInputMode ("no_binds")		Fenster = {}	Knopf = {}	Label = {}	Grid = {}		local X, Y, Width, Height = getMiddleGuiPosition(385,281)	Fenster[1] = guiCreateWindow(X, Y, Width, Height, "Glühweinhändler",false)	Label[1] = guiCreateLabel(11,22,122,17,"Tag! Was darf's sein?",false,Fenster[1])	guiSetFont(Label[1],"default-bold-small")	Grid[1] = guiCreateGridList(9,43,367,202,false,Fenster[1])	guiGridListSetSelectionMode(Grid[1],1)	guiGridListAddColumn(Grid[1],"Ware",0.4)	guiGridListAddColumn(Grid[1],"Anzahl",0.3)	guiGridListAddColumn(Grid[1],"Preis",0.2)		for name, preis in pairs(artikel) do		local row = guiGridListAddRow(Grid[1])		guiGridListSetItemText(Grid[1], row, 1, name, false, false)		guiGridListSetItemText(Grid[1], row, 2, "1", false, false)		guiGridListSetItemText(Grid[1], row, 3, preis.."$", false, false)	end	Knopf[1] = guiCreateButton(12,251,106,21,"OK",false,Fenster[1])	Knopf[2] = guiCreateButton(120,251,106,21,"Abbrechen",false,Fenster[1])	Label[2] = guiCreateLabel(10,26,362,15,"___________________________________________________________",false,Fenster[1])	guiSetFont(Label[2],"default-bold-small")	addEventHandler("onClientGUIClick", Knopf[2], function()		Guivar = 0		destroyElement(Fenster[1])		showCursor(false)		setElementData ( getLocalPlayer(), "ElementClicked", false )		setElementData ( getLocalPlayer(), "ElementClicked", false )		ShowSelfClickMenue_func(getLocalPlayer())		SelfCancelBtn (getLocalPlayer())	end, false)		addEventHandler("onClientGUIClick", Knopf[1], function()		local essen = guiGridListGetItemText(Grid[1], guiGridListGetSelectedItem(Grid[1]), 1)		if(essen == "") then			outputChatBox("Du musst ein Item auswählen!", 255, 0, 0)			return		end		local preis = artikel[essen]		triggerServerEvent("doLAWeinachtsMarktEat", localPlayer, essen, preis)		Guivar = 0		destroyElement(Fenster[1])		showCursor(false)		setElementData ( getLocalPlayer(), "ElementClicked", false )		--setElementData ( getLocalPlayer(), "ElementClicked", false )		ShowSelfClickMenue_func(getLocalPlayer())		SelfCancelBtn (getLocalPlayer())	end, false)endaddEventHandler("onClientMarkerHit", smark, function(kacke)	if(kacke == localPlayer) then		createSaftladenGui()	endend)-- INFO ---- WEINACHTSEVENT ----- ADVENTSKALENDER --local info = createPickup(-1982.6888427734, 883.87091064453, 45.003125, 3, 1239, 1000)local info2 = createPickup(-1992.3427734375, 884.09094238281, 44.8453125, 3, 1239, 1000)addEventHandler("onClientPickupHit", info, function(h)	if(h == localPlayer) then		createAdventsKalender()	endend)addCommandHandler("weihnachtsevent", function()	local x, y, z = getElementPosition(localPlayer)	if(getDistanceBetweenPoints3D(x, y, z, -1982.6888427734, 883.87091064453, 45.003125) < 10) then		createAdventsKalender()	endend)-- PLAKAT ---- zombiegeddonlocal tempshader = dxCreateShader("images/textureshader.fx")dxSetShaderValue(tempshader, "Tex", dxCreateTexture("images/weihnachten/plakatwerbung.jpg"))engineApplyShaderToWorldTexture(tempshader, "zombiegeddon")